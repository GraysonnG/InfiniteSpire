package infinitespire.blights;

import com.megacrit.cardcrawl.actions.common.DamageAction;
import com.megacrit.cardcrawl.cards.AbstractCard;
import com.megacrit.cardcrawl.cards.DamageInfo;
import com.megacrit.cardcrawl.characters.AbstractPlayer;
import com.megacrit.cardcrawl.dungeons.AbstractDungeon;
import com.megacrit.cardcrawl.monsters.AbstractMonster;
import infinitespire.InfiniteSpire;
import infinitespire.abstracts.Blight;

public class InfectiousMalware extends Blight {
	public static final String ID = InfiniteSpire.createID("InfectiousMalware");

	public InfectiousMalware() {
		super(ID, "bottledsoul");
	}

	@Override
	public void onPlayCard(AbstractCard card, AbstractMonster m) {
		AbstractPlayer p = AbstractDungeon.player;
		if(p.gold > 0) {
			p.loseGold(1);
		} else {
			AbstractDungeon.actionManager.addToBottom(new DamageAction(p, new DamageInfo(p, 1, DamageInfo.DamageType.HP_LOSS)));
		}
		this.flash();
	}
}
